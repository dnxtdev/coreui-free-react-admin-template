"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6375],{56375:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(72791),s=t(74165),c=t(15861),a=t(29439),l=t(37702),o=t(91874),i=t(22783),u=t(56445),d=t(80184);function h(e){return x.apply(this,arguments)}function x(){return(x=(0,c.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:n.params.chainId}]});case 3:e.next=16;break;case 5:if(e.prev=5,e.t0=e.catch(0),console.log("switching-ERROR"),4902!==e.t0.code){e.next=16;break}return e.prev=9,e.next=12,window.ethereum.request({method:"wallet_addEthereumChain",params:[n.params]});case 12:e.next=16;break;case 14:e.prev=14,e.t1=e.catch(9);case 16:case"end":return e.stop()}}),e,null,[[0,5],[9,14]])})))).apply(this,arguments)}var m=function(){var e=(0,r.useContext)(u.Z),n=e.connected,t=e.connectWallet,s=i.Q[1].params;return(0,d.jsx)("button",{className:"menuItem",onClick:function(){return function(e){var n=e.connected,t=e.params,r=e.connectWallet;console.log(n),n?h({params:t}):r().then((function(e){e&&h({params:t})}))}({connected:n,params:s,connectWallet:t})},children:"Switch to Polygon"})},p=t(78983),f=function(){var e=(0,r.useState)(null),n=(0,a.Z)(e,2),t=n[0],i=n[1],h=(0,r.useState)(null),x=(0,a.Z)(h,2),f=x[0],j=x[1],v=(0,r.useState)(null),b=(0,a.Z)(v,2),N=b[0],C=b[1],w=(0,r.useState)(null),k=(0,a.Z)(w,2),Z=k[0],S=k[1],y=(0,r.useState)(null),g=(0,a.Z)(y,2),I=g[0],_=g[1],E=(0,r.useState)(null),A=(0,a.Z)(E,2),W=A[0],P=A[1],D=(0,r.useState)(null),F=(0,a.Z)(D,2),$=F[0],V=F[1],R=(0,r.useState)(null),G=(0,a.Z)(R,2),H=G[0],O=G[1],T=(0,r.useState)(),M=(0,a.Z)(T,2),Q=M[0],B=M[1],q=(0,r.useState)(null),L=(0,a.Z)(q,2),J=L[0],z=L[1],U=(0,r.useState)(null),K=(0,a.Z)(U,2),X=K[0],Y=K[1],ee=(0,r.useState)(!1),ne=(0,a.Z)(ee,2),te=ne[0],re=ne[1],se=(0,r.useState)(null),ce=(0,a.Z)(se,2),ae=ce[0],le=ce[1],oe=(0,r.useContext)(u.Z),ie=oe.web3,ue=oe.connected,de=oe.connectWallet,he=oe.selectedAddress,xe=(0,r.useState)(!1),me=(0,a.Z)(xe,2),pe=me[0],fe=me[1],je=(0,r.useState)(null),ve=(0,a.Z)(je,2),be=ve[0],Ne=ve[1],Ce=(0,r.useState)(39),we=(0,a.Z)(Ce,2),ke=we[0],Ze=we[1],Se=function(){fetch("https://raw.githubusercontent.com/diamondnxt/diamondnxt/gh-pages/json/3.json").then((function(e){return e.json()})).then((function(e){console.log(e.attributes)})).catch((function(e){return console.error("Error fetching the file:",e)})),[H,Q,Z,J,N,f,t,$,I,W].every((function(e){return null!==e&&void 0!==e}))?(ye(),le(null)):le("Missing parameters")},ye=function(){function e(){return(e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie.eth.Contract(l.PD,o.mv),e.prev=1,e.next=4,n.methods.safeMintWithDiamondInfo(he,H,Q,Z,1,N,f,t,$,I,W).send({from:he}).on("receipt",(function(e){console.log(e)}));case 4:re(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}ue?function(){e.apply(this,arguments)}():console.log("Not connected")};(0,r.useEffect)((function(){if(ue){var e=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var n,t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ie.eth.Contract(l.PD,o.mv),e.next=3,n.methods.totalSupply().call();case 3:t=e.sent,r=Number(t)+1,console.log(r+"next"),Y(r),Ze(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[ue,ie]);return ue?"0x89"===window.ethereum.chainId?(0,d.jsxs)("div",{className:"mint-container",children:[(0,d.jsx)("h1",{className:"label",children:"NFT Dashboard"}),(0,d.jsx)("div",{className:"listbox-container",children:(0,d.jsxs)("label",{className:"label",children:["Next Token ID: ",X]})}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Cut:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:t||"Select a Cut"}),(0,d.jsx)(p.$H,{children:["Excellent","Very Good","Good","Fair","Poor"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return i(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Clarity:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:f||"Select a Clarity"}),(0,d.jsx)(p.$H,{children:["Flawless","Internally Flawless","VVS1","VVS2","VS1","VS2","SI1","SI2","I1","I2","I3"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return j(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Color:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:N||"Select a Color"}),(0,d.jsx)(p.$H,{children:["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return C(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"certificate-container",children:[(0,d.jsx)("label",{className:"label",children:"Carat Weight:"}),(0,d.jsx)("input",{name:"caratWeight",onChange:function(e){var n=e.target.value;/^\d*(\.\d{0,2})?$/.test(n)&&z(n)}})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Shape:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:Z||"Select a Shape"}),(0,d.jsx)(p.$H,{children:["Round","Princess","Emerald","Asscher","Marquise","Oval","Radiant","Pear","Heart","Cushion"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return S(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Polish:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:$||"Select a Polish"}),(0,d.jsx)(p.$H,{children:["Excellent","Very Good","Good","Fair","Poor"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return V(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Symmetry:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:I||"Select a Symmetry"}),(0,d.jsx)(p.$H,{children:["Excellent","Very Good","Good","Fair","Poor"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return _(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Fluorescence:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:W||"Select a Fluorescence"}),(0,d.jsx)(p.$H,{children:["None","Faint","Medium","Strong","Very Strong"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return P(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"dropdown-container",children:[(0,d.jsx)("label",{className:"label",children:"Lab:"}),(0,d.jsxs)(p.w5,{variant:"btn-group",direction:"dropend",children:[(0,d.jsx)(p.SQ,{color:"secondary",children:H||"Select a Lab"}),(0,d.jsx)(p.$H,{children:["GIA","AGS","HRD","IGI","EGL","Other"].map((function(e,n){return(0,d.jsx)(p.$f,{onClick:function(){return O(e)},children:e},n)}))})]})]}),(0,d.jsxs)("div",{className:"certificate-container",children:[(0,d.jsx)("label",{className:"label",children:"Certificate Number:"}),(0,d.jsx)("input",{name:"certificateNumber",onChange:function(e){B(e.target.value)}})]}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("button",{className:"button",onClick:function(){return re(!0)},children:"Mint"}),(0,d.jsx)("br",{}),te&&(0,d.jsxs)("div",{className:"modal",children:[(0,d.jsx)("div",{className:"modal-overlay"}),(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Actions"}),(0,d.jsxs)("p",{children:["ID: ",(0,d.jsx)("span",{className:"value",children:ke})]}),(0,d.jsxs)("p",{children:["Cut: ",(0,d.jsx)("span",{className:"value",children:t})]}),(0,d.jsxs)("p",{children:["Clarity: ",(0,d.jsx)("span",{className:"value",children:f})]}),(0,d.jsxs)("p",{children:["Color: ",(0,d.jsx)("span",{className:"value",children:N})]}),(0,d.jsxs)("p",{children:["Shape: ",(0,d.jsx)("span",{className:"value",children:Z})]}),(0,d.jsxs)("p",{children:["Symmetry: ",(0,d.jsx)("span",{className:"value",children:I})]}),(0,d.jsxs)("p",{children:["Fluorescence: ",(0,d.jsx)("span",{className:"value",children:W})]}),(0,d.jsxs)("p",{children:["Polish: ",(0,d.jsx)("span",{className:"value",children:$})]}),(0,d.jsxs)("p",{children:["Lab: ",(0,d.jsx)("span",{className:"value",children:H})]}),(0,d.jsxs)("p",{children:["Certificate Number: ",(0,d.jsx)("span",{className:"value",children:Q})]}),(0,d.jsxs)("p",{children:["Carat Weight: ",(0,d.jsx)("span",{className:"value",children:J})]}),ae&&(0,d.jsx)("label",{className:"missingParameters",children:ae}),(0,d.jsx)("button",{className:"button",onClick:function(){return Se()},children:"Mint"}),(0,d.jsx)("button",{className:"button",onClick:function(){return function(){var e=JSON.stringify({name:"Vitale #".concat(ke),description:"Heritage Collection: Combining tradition with technology",image:"https://dnxt.app/images/".concat(ke,".jpg"),animation_url:"https://dnxt.app/videos/".concat(ke,".mp4"),edition:ke,attributes:[{trait_type:"Cut",value:t},{trait_type:"Clarity",value:f},{trait_type:"Color",value:N},{trait_type:"Shape",value:Z},{trait_type:"Symmetry",value:I},{trait_type:"Fluorescence",value:W},{trait_type:"Polish",value:$},{trait_type:"Lab",value:H},{trait_type:"Certificate Number",value:Q},{trait_type:"Carat Weight",value:Number(J)}]},null,2);Ne(e),fe(!0)}()},children:"Generate JSON"}),pe&&(0,d.jsxs)("div",{className:"modal",children:[(0,d.jsx)("div",{className:"modal-overlay",onClick:function(){return fe(!1)}}),(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Generated JSON"}),(0,d.jsx)("textarea",{value:be,readOnly:!0,rows:10,cols:60}),(0,d.jsx)("button",{className:"button",onClick:function(){var e;e=be,navigator.clipboard.writeText(e).then((function(){console.log("Copied to clipboard successfully!")}),(function(e){console.error("Unable to copy",e)}))},children:"Copy JSON"})]})]}),(0,d.jsx)("button",{className:"button",onClick:function(){return Se()},children:"Estimate Price"}),(0,d.jsx)("button",{className:"button",onClick:function(){return re(!1)},children:"Cancel"})]})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)(m,{connectWallet:de,connected:ue})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("br",{}),(0,d.jsx)("button",{className:"button",onClick:function(){return de()},children:"Connect"})]})},j=function(){var e=(0,r.useState)(""),n=(0,a.Z)(e,2),t=n[0],i=n[1],h=(0,r.useState)(!1),x=(0,a.Z)(h,2),p=x[0],f=x[1],j=(0,r.useState)(null),v=(0,a.Z)(j,2),b=v[0],N=v[1],C=(0,r.useContext)(u.Z),w=C.web3,k=C.connected,Z=C.connectWallet,S=C.selectedAddress,y=function(){function e(){return(e=(0,c.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new w.eth.Contract(l.PD,o.mv),e.prev=1,e.next=4,n.methods.burn(t).send({from:S}).on("receipt",(function(e){console.log(e)}));case 4:f(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}k?function(){e.apply(this,arguments)}():console.log("Not connected")};return k?"0x89"===window.ethereum.chainId?(0,d.jsxs)("div",{className:"mint-container",children:[(0,d.jsx)("h1",{className:"label",children:"Burn Dashboard"}),(0,d.jsx)("label",{className:"label",children:"Token ID to burn:"}),(0,d.jsx)("input",{type:"text",value:t,onChange:function(e){return i(e.target.value)}}),(0,d.jsx)("button",{className:"button",onClick:function(){return f(!0)},children:"Burn"}),p&&(0,d.jsxs)("div",{className:"modal",children:[(0,d.jsx)("div",{className:"modal-overlay"}),(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h2",{children:"Confirm Burn"}),(0,d.jsxs)("p",{children:["Token ID: ",(0,d.jsx)("span",{className:"value",children:t})]}),b&&(0,d.jsx)("label",{className:"missingParameters",children:b}),(0,d.jsx)("button",{className:"button",onClick:function(){t?(y(),N(null)):N("Token ID missing")},children:"Confirm"}),(0,d.jsx)("button",{className:"button",onClick:function(){return f(!1)},children:"Cancel"})]})]})]}):(0,d.jsx)(m,{connectWallet:Z,connected:k}):(0,d.jsx)("button",{className:"button",onClick:function(){return Z()},children:"Connect"})},v=function(){var e=(0,r.useContext)(u.Z),n=e.web3,t=e.connected,i=e.connectWallet,h=e.selectedAddress,x=(0,r.useState)(!1),p=(0,a.Z)(x,2),f=p[0],j=p[1],v=(0,r.useState)(!1),b=(0,a.Z)(v,2),N=b[0],C=b[1],w=(0,r.useState)(""),k=(0,a.Z)(w,2),Z=k[0],S=k[1],y=(0,r.useState)(!1),g=(0,a.Z)(y,2),I=g[0],_=g[1],E=(0,r.useState)(null),A=(0,a.Z)(E,2),W=A[0],P=A[1],D=(0,r.useState)(""),F=(0,a.Z)(D,2),$=F[0],V=F[1];(0,r.useEffect)((function(){if(t){var e=new n.eth.Contract(l.lA,o.mE),r=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.methods.whitelisted(Z).call();case 2:t=n.sent,j(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=(0,c.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.methods.blacklisted(Z).call();case 2:t=n.sent,C(t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r(),a()}}),[t,h,n,Z]);var R=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=3;break}return P("Address missing"),e.abrupt("return");case 3:return e.next=5,H();case 5:P(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=3;break}return P("Address missing"),e.abrupt("return");case 3:return e.next=5,O();case 5:P(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Not connected"),e.abrupt("return");case 3:return r=new n.eth.Contract(l.lA,o.mE),e.prev=4,e.next=7,r.methods.whitelistAccount(Z).send({from:h}).on("receipt",(function(e){console.log(e)}));case 7:_(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.log("Not connected"),e.abrupt("return");case 3:return r=new n.eth.Contract(l.lA,o.mE),e.prev=4,e.next=7,r.methods.blacklistAccount(Z).send({from:h}).on("receipt",(function(e){console.log(e)}));case 7:_(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,r,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=3;break}return P("Address missing"),e.abrupt("return");case 3:return t=new n.eth.Contract(l.lA,o.mE),e.next=6,t.methods.whitelisted(Z).call();case 6:return r=e.sent,j(r),e.next=10,t.methods.blacklisted(Z).call();case 10:c=e.sent,C(c),P(null);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t?"0x89"===window.ethereum.chainId?(0,d.jsxs)("div",{className:"mint-container",children:[(0,d.jsx)("h1",{className:"label",children:"Whitelist Dashboard"}),(0,d.jsx)("label",{className:"label",children:"Address to check:"}),(0,d.jsx)("input",{type:"text",value:Z,onChange:function(e){return S(e.target.value)}}),(0,d.jsx)("button",{className:"button",onClick:T,children:"Check Status"}),null!==f&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:["Whitelisted: ",f?"True":"False"]}),(0,d.jsxs)("p",{children:["Blacklisted: ",N?"True":"False"]})]}),(0,d.jsx)("button",{className:"button",onClick:function(){_(!0),V("whitelist")},children:"Whitelist"}),(0,d.jsx)("button",{className:"button",onClick:function(){_(!0),V("blacklist")},children:"Blacklist"}),I&&(0,d.jsxs)("div",{className:"modal",children:[(0,d.jsx)("div",{className:"modal-overlay"}),(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsxs)("h2",{children:["Confirm ",$.charAt(0).toUpperCase()+$.slice(1)]}),(0,d.jsxs)("p",{children:["Address: ",(0,d.jsx)("span",{className:"value",children:Z})]}),W&&(0,d.jsx)("label",{className:"missingParameters",children:W}),(0,d.jsx)("button",{className:"button",onClick:"whitelist"===$?R:G,children:"Confirm"}),(0,d.jsx)("button",{className:"button",onClick:function(){return _(!1)},children:"Cancel"})]})]})]}):(0,d.jsx)(m,{connectWallet:i,connected:t}):(0,d.jsx)("button",{className:"button",onClick:function(){return i()},children:"Connect"})},b=t(93433),N=function(){var e=(0,r.useContext)(u.Z),n=e.web3,t=e.connected,i=e.selectedAddress,h=(0,r.useState)([]),x=(0,a.Z)(h,2),m=x[0],p=x[1],f=(0,r.useState)(!1),j=(0,a.Z)(f,2),v=j[0],N=j[1],C=(0,r.useState)(null),w=(0,a.Z)(C,2),k=w[0],Z=w[1];(0,r.useEffect)((function(){if(t){var e=new n.eth.Contract(l.ME,o.mz),r=function(){var t=(0,c.Z)((0,s.Z)().mark((function t(){var r,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.eth.getBlockNumber();case 2:r=t.sent,c=r-999,e.getPastEvents("RedeemStarted",{fromBlock:c,toBlock:"latest"}).then((function(e){var n=e.map((function(e){var n=e.returnValues;return{user:n.user,nftId:n.nftId}}));p(n)})).catch((function(e){console.error("Error fetching past events:",e)})),e.events.RedeemStarted({},(function(e,n){if(e)console.error("Error in RedeemRequested event:",e);else{var t=n.returnValues,r=t.user,s=t.nftId;p((function(e){return[].concat((0,b.Z)(e),[{user:r,nftId:s}])}))}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r()}}),[t,n]);var S=function(){t?y():console.log("Not connected")},y=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new n.eth.Contract(l.ME,o.mz),e.prev=1,e.next=4,t.methods.completeRedeem(o.mv,k).send({from:i}).on("receipt",(function(e){console.log(e)}));case 4:N(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){var t,r,c,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new n.eth.Contract(l.PD,o.mv),e.next=3,t.methods.balanceOf(o.mz).call();case 3:r=e.sent,c=[],a=0;case 6:if(!(a<r)){e.next=14;break}return e.next=9,t.methods.tokenOfOwnerByIndex(o.mz,a).call();case 9:i=e.sent,c.push(i);case 11:a++,e.next=6;break;case 14:p((function(e){return[].concat((0,b.Z)(e),(0,b.Z)(c.map((function(e){return{user:"Redeem Contract",tokenId:e}}))))}));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){var n=e.isVisible,t=e.onConfirm,r=e.onCancel,s=e.nftId;return n?(0,d.jsx)("div",{className:"modal",children:(0,d.jsxs)("div",{className:"modal-content",children:[(0,d.jsx)("h4",{children:"Confirmation"}),(0,d.jsxs)("p",{children:["Are you sure you want to complete the redeem for NFT ID: ",s,"?"]}),(0,d.jsx)("button",{className:"button",onClick:function(){return t(s)},children:"Confirm"}),(0,d.jsx)("button",{className:"button",onClick:r,children:"Cancel"})]})}):null};return(0,d.jsxs)("div",{className:"request-container",children:[(0,d.jsx)("h3",{children:"Redeem Requests Manager"}),(0,d.jsx)("button",{className:"button",onClick:g,children:"Load all"}),m.length?(0,d.jsx)("ul",{children:m.map((function(e,n){return(0,d.jsxs)("li",{children:["User: ",e.user,(0,d.jsx)("br",{}),"ID: ",e.nftId,(0,d.jsx)("br",{}),(0,d.jsx)("button",{className:"button",onClick:function(){return n=e.nftId,Z(n),void N(!0);var n},children:"Complete"})]},n)}))}):(0,d.jsx)("p",{children:"No redeem requests found."}),(0,d.jsx)(I,{isVisible:v,onConfirm:function(){k?S():console.error("Token ID missing")},onCancel:function(){return N(!1)},nftId:k})]})},C=t(27566),w=t(1780),k=function(){var e=(0,C.useWallet)(),n=e.connected,t=e.connectWallet;return(0,d.jsx)("div",{className:"dapp-container",children:n?"0x89"===window.ethereum.chainId?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"top-components",children:[(0,d.jsx)(j,{}),(0,d.jsx)(v,{}),(0,d.jsx)(N,{})]}),(0,d.jsx)(f,{})]}):(0,d.jsx)(m,{connectWallet:t,connected:n}):(0,d.jsx)("button",{className:"button",onClick:function(){return t()},children:"Connect"})})},Z=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)(w.S8,{}),(0,d.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,d.jsx)(w.tf,{}),(0,d.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,d.jsx)(k,{})}),(0,d.jsx)(w.qh,{})]})]})}}}]);
//# sourceMappingURL=6375.2ec15ae6.chunk.js.map